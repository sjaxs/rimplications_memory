\section{Librer\'ia b\'asica para sistemas de implicaciones}
Se va a intentar que este paquete de funciones pueda perdurar en el tiempo, y para ello, 
se ha realizado una librer\'ia b\'asica para intentar modularizar el c\'odigo y que sea lo 
m\'as legible posible a la hora de poder comprenderlo. Se destaca, adem\'as, que como segundo 
objetivo de esta librer\'ia, se quiere conseguir hacer independiente la estructura de datos, del c\'odigo usado 
en los algoritmos. Es decir, en los algoritmos no se usa ning\'un m\'etodo o funci\'on que se encuentre directamente 
en el paquete arules. 

Aunque actualmente pensamos que arules es la mejor opci\'on, podr\'ia aparecer en el futuro otro paquete, o se podr\'ia 
desarrollar desde 0 una estructura m\'as eficiente que arules y los algoritmos no deber\'ian sufrir ese cambio, sino que solo 
se deber\'ia cambiar la librer\'ia que se va a detallar a continuaci\'on.

Esta librer\'ia se ha dividido en dos apartados diferentes. El primero estar\'a dedicado a las funciones de manejo de conjuntos, 
en \'el podremos encontrar los siguientes puntos: Inicializar conjunto de atributos, Conjunto unitario, Uni\'on, Intersecci\'on, 
Diferencia, Inclusi\'on, Vac\'io, Igualdad, Eliminar implicaci\'on, Vaciar conjunto, Leer antecedente, Leer consecuente, A\~nadir 
implicaci\'on, Nueva implicaci\'on, Sustituir implicaci\'on, Incluido en antecedente y Eliminar implicaciones con consecuente vac\'io. 
Y en el segundo apartado se encuentran: Tama\~no del conjunto, Cardinalidad del conjunto, Core y Body.

\subsection{Funciones de manejo de conjuntos}

\smallskip

%%% initialize.setOfAttributes %%%
\textbf{ \large Inicializar conjunto de atributos}

    \smallskip

    \textbf{Descripci\'on}

    Esta funci\'on se utilizar\'a para inicializar un conjunto de datos, es decir, se le va a pasar una lista de atributos y el 
    conjunto completo de los atributos, y se codificar\'a en la estructura de datos usada en arules.
    
    Dentro de esta, se va a utilizar la funci\'on \textbf{encode} para convertir el subconjunto de atributos en un objeto itemMatrix, y de esta 
    forma poder trabajar con ellos en los diferentes algoritmos que se van a desarrollar a lo largo de este TFG.

    Es decir, con esta funci\'on, lo que se consigue es tener un conjunto de atributos con la estructura adecuada para poder trabajar con \'el.
    \\

    \bigskip
    
    \textbf{C\'odigo}
    
    \lstinputlisting{r_code/basicLibrary/initialize.setOfAttributes.R}
    \clearpage
    
    \textbf{Ejemplo}

    Para que se entienda mejor esta funci\'on, se va a plantear un ejemplo:

    \begin{figure}[H]
        \centering
        \includegraphics{InicializarConj}
        \caption{Ejemplo de inicializar conjunto de atributos}
        \label{fig:InicializarConj}
    \end{figure}

    En la variable implications se tiene un conjunto de 4 reglas y el conjunto de atributos que las componen.
    Al usar la funci\'on descrita en este punto, pas\'andole un subconjunto de todos los atributos, en este caso \{a,c,f\}, y 
    el conjunto total de los atributos, nos devuelve un itemMatrix. 
    
    Dicho itemMatrix est\'a compuesto s\'olo por esos tres atributos, aunque va a contener la informaci\'on de todos los que 
    componen las reglas; ya que deben estar para poder usar algunas funciones como uni\'on o intersecci\'on.
    \\

\clearpage

%%% is.singleton %%%
\textbf{ \large Conjunto unitario}

\smallskip

    \textbf{Descripci\'on}
    
    Un conjunto unitario es aquel que tiene un s\'olo elemento. Por lo que esta funci\'on 
    devolver\'a TRUE si la longitud del conjunto que se le pase es igual a 1, o FALSE en caso 
    contrario.

    Esta es una funci\'on a la que se le puede pasar por par\'ametro una lista, un vector, 
    un conjunto de reglas o cualquier otro conjunto de elementos al que se le pueda aplicar la funci\'on 
    length().
    \\


    \textbf{C\'odigo}

    \lstinputlisting{r_code/basicLibrary/is.singleton.R}

    \bigskip
    
    \textbf{Ejemplo}

    En este caso, se van a proponer tres ejemplos diferentes para poder entender el comportamiento de esta funci\'on:

    \begin{figure}[H]
        \centering
        \includegraphics{singleton}
        \caption{Ejemplos de conjuntos unitarios}
        \label{fig:singleton}
    \end{figure}

    En el primer ejemplo, se puede observar que el conjunto es unitario porque est\'a compuesto por una sola cadena de caracteres. 
    Es decir, no cuenta caracter a caracter, sino la cadena, luego est\'a formado por un solo elemento y el resultado es TRUE.

    En el segundo ejemplo, tenemos una lista vac\'ia, por lo que como no tiene ning\'un elemento, el resultado es FALSE porque no es unitario.

    Por \'ultimo, se tiene una lista que contiene a otra lista con tres elementos dentro de ella. En este caso, se podr\'ia pensar que 
    no es unitario al ver los tres elementos, pero no, ya que el elemento que estamos estudiando es el primero, y este contiene solo una lista 
    en \'el, por lo que el resultado es TRUE, ya que s\'i es unitario.
    \\

    \bigskip


%%% union.sets %%% 
\textbf{ \large Uni\'on}

\smallskip

    \textbf{Descripci\'on}

    La uni\'on de dos conjuntos es una operaci\'on que devolver\'a otro conjunto formado por 
    todos los elementos de los dos conjuntos iniciales. Si un elemento se encuentra en los dos 
    conjuntos, s\'olo aparecer\'a una vez en el resultante.

    \[
    A \cup B = \{x\in U ~ | ~ x\in A ~ o ~ x\in B \}
    \]

    Esta funci\'on se usar\'a para la uni\'on de elementos de la clase itemMatrix, ya que lo que 
    se usa es itemUnion, una funci\'on perteneciente al paquete arules.

    Se destaca aqu\'i, de nuevo, que aunque pueda parecer que esta funci\'on es demasiado simple, 
    no se quiere hacer un uso directo de ninguna funci\'on ni m\'etodo de arules.
    \\


    \textbf{C\'odigo}

    \lstinputlisting{r_code/basicLibrary/union.sets.R}
    \clearpage

    \textbf{Ejemplo}

    \begin{figure}[H]
        \centering
        \includegraphics{union}
        \caption{Ejemplo de uni\'on de conjuntos}
        \label{fig:union}
    \end{figure}

    A continuaci\'on se va a explicar el anterior ejemplo paso a paso, ya que en \'el se han realizado varios pasos.

    Primero, se ha comenzado declarando tres vectores diferentes. Los dos primeros van a ser los dos conjuntos a unir, y el 
    tercero es la uni\'on de todas las variables. Despu\'es, se utiliza la funci\'on explicada anteriormente para convertir ambos 
    vectores en itemMatrix.

    Segundo, se observa que ambos conjuntos son de la estructura itemMatrix, con el mismo n\'umero de columnas. Esto es algo muy 
    importante, y por eso se ha usado la funci\'on \textbf{initialize.setOfAttributes}, ya que para utilizar la uni\'on, los elementos deben 
    estar en los dos conjuntos como informaci\'on, tal y como se vio en la estructura de datos itemMatrix.

    Por \'ultimo, se realiza la uni\'on e inspeccionamos la variable resultante, y se comprueba que se ha realizado correctamente.
    \\

    \bigskip

%%% intersection.sets %%% 
\textbf{ \large Intersecci\'on}

\smallskip

    \textbf{Descripci\'on}
    
    La intersecci\'on de dos conjuntos A y B devolver\'a otro conjunto resultante U con los elementos 
    que se encuentren en ambos conjuntos iniciales. Es decir, el conjunto U estar\'a formado por los elementos 
    que est\'en tanto en A como en B.

    \[
        A \cap B = \{x\in U ~ | ~ x\in A ~ y ~ x\in B \}
    \]

    En este caso, tambi\'en se utilizar\'a con la estructura de datos itemMatrix que es la usada mayoritariamente con implicaciones 
    como ya se ha especificado antes.
    \\


    \textbf{C\'odigo}

    \lstinputlisting{r_code/basicLibrary/intersection.sets.R}
    \clearpage

    \textbf{Ejemplo}

    Para el ejemplo de esta funci\'on se van a utilizar los mismos conjuntos del ejemplo de la anterior funci\'on:

    \begin{figure}[H]
        \centering
        \includegraphics{interseccion}
        \caption{Ejemplo de intersecci\'on de conjuntos}
        \label{fig:interseccion}
    \end{figure}

    Para comenzar el ejemplo, se han realizado los mismos pasos que en el anterior, se declaran las variables y se convierten a 
    itemMatrix. 
    Por \'ultimo, se realiza la intersecci\'on de ambos conjuntos y vemos como el resultado es \'unicamente del elemento que se encuentra 
    en ambos conjuntos.

    \clearpage

%%% difference.sets %%% 
\textbf{ \large Diferencia}

\smallskip

    \textbf{Descripci\'on}

    La diferencia de dos conjuntos da como resultado otro conjunto con los elementos que resultan de 
    eliminar a los elementos que forman el primer conjunto, los del segundo. Es decir, se obtendr\'ian 
    todos elementos del primer conjunto que no est\'an en el segundo.

    \[
        A - B = \{x\in A ~ y ~ x\notin B \}
    \]

    De nuevo, en nuestra funci\'on se usa una del paquete arules para poder utilizar la gran mayor\'ia de estructuras 
    que sean compatibles con restar elementos.
    \\


    \textbf{C\'odigo}

    \lstinputlisting{r_code/basicLibrary/difference.sets.R}
    \bigskip

    \textbf{Ejemplo}

    Para ilustrar bien esta funci\'on, vamos a volver a utilizar los conjuntos usados en la uni\'on e intersecci\'on para comprobar 
    cu\'al ser\'ia el resultado al realizar la diferencia de estos conjuntos.

    \begin{figure}[H]
        \centering
        \includegraphics{diferencia}
        \caption{Ejemplo de diferencia de conjuntos}
        \label{fig:diferencia}
    \end{figure}

    En este caso, se vuelve a realizar todo de la misma forma que en los anteriores casos, pero usamos la funci\'on \textbf{difference.sets}, y 
    con ella obtenemos como resultado un nuevo conjunto, en el que se encuentran los elementos del primer conjunto, eliminando los que 
    tambi\'en est\'en en el segundo.
    \clearpage


%%% is.included %%% 
\textbf{ \large Inclusi\'on}

\smallskip

    \textbf{Descripci\'on}

    Un conjunto A est\'a incluido en un conjunto B, si A es subconjunto de B. Por lo que esta funci\'on 
    devolver\'a TRUE si cumple dicha propiedad, o FALSE en caso contrario.

    \[
        A \subseteq B ~ | ~  \forall ~ x \in A \to x \in B 
    \]

    De nuevo, esta funci\'on se utilizar\'a con elementos de la clase itemMatrix.
    \\

    \textbf{C\'odigo}

    \lstinputlisting{r_code/basicLibrary/is.included.R}
    \bigskip

    \textbf{Ejemplo}

    \begin{figure}[H]
        \centering
        \includegraphics{inclusion}
        \caption{Ejemplos de inclusi\'on de conjuntos}
        \label{fig:inclusion}
    \end{figure}

    En este caso, se van a proponer dos ejemplos:

    En el primero no se cumple que el \textit{set1} est\'e incluido en el \textit{set2}, aunque s\'i se cumplir\'ia al contrario, pero la inclusi\'on no es 
    una funci\'on que cumpla la propiedad sim\'etrica, luego en este caso el resultado es FALSE.

    En el segundo ejemplo s\'i que se cumple que el primer conjunto est\'e incluido en el segundo.
    \\

    \bigskip


%%% is.empty.set %%% 
\textbf{ \large Vac\'io}

\smallskip

    \textbf{Descripci\'on}

    Un conjunto es vac\'io si no contiene ning\'un elemento. Es decir, si el tama\~no del conjunto es 0, 
    podemos decir que est\'a vac\'io. 

    \[
        A = \{ \} = \emptyset
    \]

    \textbf{C\'odigo}

    \lstinputlisting{r_code/basicLibrary/is.empty.set.R}
    \bigskip

    \textbf{Ejemplo}

    \begin{figure}[H]
        \centering
        \includegraphics{vacio}
        \caption{Ejemplos de conjuntos vac\'ios}
        \label{fig:vacio}
    \end{figure}

    En el primer ejemplo, se puede ver que la funci\'on devuelve FALSE porque el conjunto contiene elementos.

    En cambio, en el segundo, el vector no contiene elementos, por lo que la funci\'on devuelve TRUE porque el conjunto no tiene 
    elementos.
    \\

    \bigskip


    %%% equals.sets %%% 
\textbf{ \large Igualdad}

    \smallskip

    \textbf{Descripci\'on}

    Dos conjuntos A y B son iguales si su longitud es la misma, y si para cada elemento de A, existe uno igual 
    en B y para cada elemento de B existe uno igual en A.

    Ya que, seg\'un el axioma de extensionalidad:

    \[
        \forall A, B : \forall x, (x \in A \Leftrightarrow x \in B) \to A = B
    \]


    \textbf{C\'odigo}

    \lstinputlisting{r_code/basicLibrary/equals.sets.R}
    \bigskip

    \textbf{Ejemplo}

    \begin{figure}[H]
        \centering
        \includegraphics{igualdad}
        \caption{Ejemplos de igualdad de conjuntos}
        \label{fig:igualdad}
    \end{figure}

    De nuevo, se plantean dos ejemplos. En el primero, el resultado es TRUE, ya que visualmente se puede comprobar que ambos conjuntos son 
    iguales.

    En el segundo caso, la funci\'on devuelve FALSE porque los conjuntos no son iguales.
    \\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\bigskip

%%% remove.imp %%% 
\textbf{ \large Eliminar implicaci\'on}

\smallskip

    \textbf{Descripci\'on}

    Una de las tareas m\'as importantes de este TFG es trabajar con implicaciones. Una de las operaciones m\'as habituales 
    va a ser la de eliminar una implicaci\'on de un conjunto. Para ello, se ha definido la siguiente funci\'on, pas\'andole 
    como par\'ametros el conjunto de implicaciones y la posici\'on de la que se desea eliminar, devolver\'a un conjunto sin 
    dicha implicaci\'on.
    \\


    \textbf{C\'odigo}

    \lstinputlisting{r_code/basicLibrary/remove.imp.R}
    \bigskip

    \textbf{Ejemplo}

    \begin{figure}[H]
        \centering
        \includegraphics{removeImp}
        \caption{Ejemplo de eliminar implicaci\'on}
        \label{fig:removeImp}
    \end{figure}

    En este ejemplo, tenemos un conjunto inicial \textit{implications} con cuatro implicaciones diferentes. A continuaci\'on se usa la 
    funci\'on \textbf{remove.imp} y con ella eliminamos la tercera.

    Finalizamos comprobando que efectivamente, en el nuevo conjunto solo se tienen tres implicaciones, quitando la tercera del conjunto 
    inicial.
    \\


    \bigskip

    %%% remove.all %%% 
\textbf{ \large Vaciar conjunto}

\smallskip

    \textbf{Descripci\'on}

    Otra funci\'on que puede ser \'util es vaciar un conjunto. Se podr\'ia pensar que igualando el conjunto a nulo, 
    se podr\'ia obtener el resultado que se quiere conseguir. Pero no es as\'i, ya que lo que se quiere es un conjunto sin 
    elementos, pero que siga manteniendo su estructura de datos arules, aunque sin ninguna regla. 
    
    Para ello, en esta funci\'on, vamos a devolver la posici\'on 0 del conjunto que se quiere vaciar. Recordemos, que en el 
    lenguaje R los arrays, listas y dem\'as estructuras de conjuntos comienzan en 1 y no en 0 como la gran mayor\'ia de lenguajes.
    Por lo que al devolver esta posici\'on, el resultado que se obtiene es el conjunto que se le hab\'ia pasado, pero sin ning\'un 
    elemento. Como consecuencia, se devuelve un conjunto vac\'io de implicaciones.
    \\


    \textbf{C\'odigo}

    \lstinputlisting{r_code/basicLibrary/remove.all.R}
    \bigskip

    \textbf{Ejemplo}

    \begin{figure}[H]
        \centering
        \includegraphics{removeAll}
        \caption{Ejemplo de vaciar conjunto}
        \label{fig:removeAll}
    \end{figure}

    En este caso, tenemos un conjunto de implicaciones, y si vaciamos dicho conjunto, el resultado es vac\'io, ya que el nuevo 
    conjunto resultante no contiene ninguna implicaci\'on.

    \clearpage

    %%% read.left %%% 
\textbf{ \large Leer antecedente}

\smallskip

    \textbf{Descripci\'on}

    Otra de las funciones b\'asicas a la hora de trabajar con implicaciones es poder obtener el antecedente de una determinada 
    implicaci\'on. Para ello, pas\'andole a esta funci\'on el conjunto que contiene a la implicaci\'on que queremos obtener, y su 
    posici\'on, nos devolver\'a el antecedente deseado.
    \\


    \textbf{C\'odigo}

    \lstinputlisting{r_code/basicLibrary/read.left.R}
    \bigskip

    \textbf{Ejemplo}

    \begin{figure}[H]
        \centering
        \includegraphics{readL}
        \caption{Ejemplo de leer antecedente}
        \label{fig:readL}
    \end{figure}

    Luego, en este ejemplo, tenemos un conjunto de tres implicaciones y con esta funci\'on leemos, en este caso, el antecedente de 
    la segunda implicaci\'on. 
    \\

    \bigskip

%%% read.right %%% 
\textbf{ \large Leer consecuente}

\smallskip

    \textbf{Descripci\'on}

    De igual forma que en el anterior punto, se puede querer obtener el consecuente de una implicaci\'on, luego, con el conjunto de 
    implicaciones y su posici\'on, esta funci\'on devolver\'a el consecuente de dicha implicaci\'on.
    \\


    \textbf{C\'odigo}

    \lstinputlisting{r_code/basicLibrary/read.right.R}
    \bigskip

    \textbf{Ejemplo}

    \begin{figure}[H]
        \centering
        \includegraphics{readR}
        \caption{Ejemplo de leer consecuente}
        \label{fig:readR}
    \end{figure}

    Para este ejemplo, se ha usado el mismo conjunto de implicaciones que en el anterior, y leemos el consecuente de la misma 
    implicaci\'on que en el punto anterior.
    \\

    \bigskip




%%% add.imp %%% 
\textbf{ \large A\~nadir implicaci\'on}

\smallskip

    \textbf{Descripci\'on}

    Igual que se puede querer eliminar una implicaci\'on, tambi\'en ser\'a posible a\~nadir una nueva. Por lo que esta funci\'on, 
    inserta la nueva implicaci\'on en la \'ultima posici\'on del conjunto. Como par\'ametros necesita el conjunto que se quiere ampliar, 
    el antecedente de la nueva implicaci\'on y el consecuente.

    As\'i que, se crea la nueva implicaci\'on, con las dos partes que se le pasan como par\'ametros y se le concatena al conjunto 
    inicial para devolver un conjunto ampliado con una nueva implicaci\'on. Adem\'as, para indicar claramente que es una implicaci\'on, 
    se le asocia al par\'ametro \textit{confidence} el valor 1.
    
    \clearpage

    \textbf{C\'odigo}

    \lstinputlisting{r_code/basicLibrary/add.imp.R}
    \bigskip

    \textbf{Ejemplo}

    \begin{figure}[H]
        \centering
        \includegraphics{addImp}
        \caption{Ejemplo de a\~nadir implicaci\'on}
        \label{fig:addImp}
    \end{figure}

    En este ejemplo tenemos un conjunto de 4 implicaciones en la variable \textit{implications}, en \textit{newRule} tenemos una \'unica regla que va 
    a ser la nueva a insertar. 

    Usando la funci\'on \textbf{add.imp} a\~nadimos la nueva regla como se puede observar en el nuevo conjunto \textit{implications}.

    \clearpage


%%% new.imp %%% 
\textbf{ \large Nueva implicaci\'on}

\smallskip

    \textbf{Descripci\'on}

    Con esta funci\'on, vamos a insertar una nueva implicaci\'on, al igual que en el punto anterior, pero esta vez 
    de una forma un poco m\'as compleja. Ya que, en este caso, se van a realizar varias comprobaciones.

    Para cada implicaci\'on perteneciente al conjunto, se va a comprobar si el antecedente es igual al que se quiere insertar.
    En caso negativo, se continuar\'a con la siguiente implicaci\'on; y en caso afirmativo, se comprobar\'a si los consecuentes son 
    iguales. En caso de que se cumplan ambas afirmaciones, quiere decir que la implicaci\'on que intentamos insertar en el conjunto 
    ya se encuentra en \'el, por lo que se devolver\'a el conjunto inicial sin ning\'un cambio.

    En el caso de que los antecedentes sean iguales, y los consecuentes no, se sustituir\'a esa regla por una nueva, en la que el antecedente 
    queda igual, y el consecuente estar\'a formado por la uni\'on del que ya estaba en el conjunto, y el nuevo que se quiere insertar. Y con 
    esto, se devolver\'ia el nuevo conjunto.

    El \'ultimo caso que se podr\'ia dar, es aquel en el que ninguna implicaci\'on del conjunto tenga el mismo antecedente que el que se 
    quiere insertar, por lo que al finalizar la iteraci\'on por todo el conjunto, se insertar\'ia la nueva regla y devolver\'ia el conjunto 
    resultante.
    \\

    \clearpage

    \textbf{C\'odigo}

    \lstinputlisting{r_code/basicLibrary/new.imp.R}
    \bigskip

    \textbf{Ejemplo}


    \begin{figure}[H]
        \centering
        \includegraphics{newImp}
        \caption{Ejemplo de a\~nadir implicaci\'on}
        \label{fig:newImp}
    \end{figure}

    Aunque con esta funci\'on se podr\'ian realizar varios ejemplos seg\'un la implicaci\'on que se quiera a\~nadir, en este caso se 
    va a insertar una nueva en la que el antecedente ya se encuentra en el conjunto y el consecuente es nuevo.

    En la variable \textit{implications} tenemos un conjunto de tres implicaciones, y en \textit{newRule}, est\'a la nueva a insertar. Como se puede 
    observar, el antecedente de la nueva es igual al de la tercera implicaci\'on del conjunto. Se realiza la operaci\'on de a\~nadir 
    y vemos como en el conjunto resultante ha cambiado el consecuente de la \'ultima implicaci\'on tal y como se esperaba.
    \\

    \bigskip


%%% substitute.imp %%% 
\textbf{ \large Sustituir implicaci\'on}

\smallskip

    \textbf{Descripci\'on}

    La sustituci\'on de una implicaci\'on es una operaci\'on bastante \'util, ya que cuando se quieren unir dos implicaciones, puede que 
    se quiera que la nueva permanezca en un lugar determinado, para ello, esta funci\'on inserta la nueva implicaci\'on en el lugar que 
    se le indique. Como par\'ametros, necesita el conjunto de implicaciones, la posici\'on a cambiar, y los nuevos antedecente y consecuente.
    Para la utilizaci\'on de esta funci\'on se debe llamar a \textbf{sustitute.imp}, aunque esta, a su vez har\'a uso de \textbf{add.imp.k}, cuyos codigos se 
    muestran a continuaci\'on.
    \\


    \textbf{C\'odigo}

    \lstinputlisting{r_code/basicLibrary/add.imp.k.R}

    \lstinputlisting{r_code/basicLibrary/substitute.imp.R}
    \clearpage

    \textbf{Ejemplo}

    \begin{figure}[H]
        \centering
        \includegraphics{sustituir}
        \caption{Ejemplo de sustituir implicaci\'on}
        \label{fig:sustituir}
    \end{figure}

    Comenzamos con un conjunto de tres implicaciones en la variable \textit{implications}, en \textit{newRule} se tiene la implicaci\'on que se va 
    a insertar en el conjunto. Realizamos la operaci\'on de sustituir, en este caso la segunda implicaci\'on del conjunto, por la nueva. 
    Tal y como se observa en el conjunto resultante, se ha sustituido la anterior, por la nueva, tal y como se esperaba.
    \\


    \bigskip

%%% included.left %%% 
\textbf{ \large Incluido en antecedente}

\smallskip

    \textbf{Descripci\'on}

    Si tenemos dos implicaciones A y B y se quiere comprobar si el antecedente de A est\'a incluido en el de B, se debe usar 
    esta funci\'on. Le pasamos como par\'ametros un conjunto de implicaciones, y dos posiciones de dicho conjunto. Se usar\'an 
    las funciones \textbf{is.included} y \textbf{read.left} para comprobar si un antecedente est\'a incluido en otro, devolver\'a TRUE en caso 
    afirmativo, y FALSE en el contrario.
    \\
    \clearpage

    \textbf{C\'odigo}

    \lstinputlisting{r_code/basicLibrary/included.left.R}
    \bigskip

    \textbf{Ejemplo}

    \begin{figure}[H]
        \centering
        \includegraphics{incluidoL}
        \caption{Ejemplo de leer antecedente}
        \label{fig:incluidoL}
    \end{figure}

    Para este ejemplo tenemos un conjunto con tres implicaciones. Primero se comprueba si el antecedente de la primera implicaci\'on 
    est\'a incluido en el de la segunda, el resultado obtenido es TRUE, ya que se cumple la inclusi\'on.

    En cambio, en el segundo caso, se prueba el consecuente de la segunda, con el de la tercera, y como no se cumple, el resultado es FALSE.
    \\

    \bigskip

%%% delete.set.of.IS %%% 
\textbf{ \large Eliminar implicaciones con consecuente vac\'io}

\smallskip

    \textbf{Descripci\'on}

    Si se tiene un conjunto de implicaciones y alguna de ellas tiene su consecuente vac\'io, esta implicaci\'on no va a 
    aportar ning\'un tipo de conocimiento a este conjunto, por lo que se deben eliminar. Para ello, se usar\'ia esta funci\'on, 
    la cual, pas\'andole como par\'ametro dicho conjunto, nos devolver\'a uno nuevo eliminando las implicaciones con su consecuente 
    vac\'io.
    \\
    \clearpage

    \textbf{C\'odigo}

    \lstinputlisting{r_code/basicLibrary/delete.set.of.IS.R}
    \bigskip

    \textbf{Ejemplo}

    \begin{figure}[H]
        \centering
        \includegraphics{deleteIS}
        \caption{Ejemplo de eliminar implicaciones con consecuente vac\'io}
        \label{fig:deleteIS}
    \end{figure}

    Comenzamos con un conjunto de seis implicaciones, en el que dos de ellas tienen su consecuente vac\'io. Al realizar la 
    operaci\'on de borrar los consecuentes vac\'ios, obtenemos un nuevo conjunto con cuatro implicaciones, ya que las que ten\'ian 
    sus consecuentes sin elementos, han sido eliminadas.

    \clearpage

\subsection{Funciones de manejo de implicaciones}

\smallskip

%%% size.set %%% 
\textbf{ \large Tama\~no del conjunto}

\smallskip

    \textbf{Descripci\'on}

    Por tama\~no del conjunto se entiende el n\'umero de elementos, repetidos o no, que lo componen. 
    Es decir, para calcular el tama\~no de un conjunto, se va a realizar la suma de los tama\~nos de cada una de 
    las implicaciones que forman el conjunto.
    \\


    \textbf{C\'odigo}

    \lstinputlisting{r_code/basicLibrary/size.set.R}
    \bigskip

    \textbf{Ejemplo}

    \begin{figure}[H]
        \centering
        \includegraphics{size}
        \caption{Ejemplo de tama\~no de conjunto}
        \label{fig:size}
    \end{figure}

    En este ejemplo se tiene un conjunto con tres implicaciones, su tama\~no, tal y como muestra el ejemplo es de 10. 
    Este resultado viene de sumar cu\'antos elementos tiene cada implicaci\'on, en este caso:
    \[
        4 + 3 + 3 = 10    
    \]

    

    \clearpage

%%% cadinality.set %%% 
\textbf{ \large Cardinalidad del conjunto}

\smallskip

    \textbf{Descripci\'on}

    La cardinalidad de un conjunto se entiende como el n\'umero de implicaciones que lo componen. Es decir, lo que 
    tambi\'en se suele denominar como longitud del conjunto.
    \\


    \textbf{C\'odigo}

    \lstinputlisting{r_code/basicLibrary/cardinality.set.R}
    \bigskip

    \textbf{Ejemplo}


    \begin{figure}[H]
        \centering
        \includegraphics{cardinality}
        \caption{Ejemplo de cardinalidad de conjunto}
        \label{fig:cardinality}
    \end{figure}

    La cardinalidad, tal y como se ha explicado arriba es el n\'umero de implicaciones que tiene un conjunto, por lo que, como 
    se puede observar en este ejemplo, como tiene tres implicaciones, su cardinalidad es tres.
     

    \clearpage

%%% core %%% 
\textbf{ \large Core}

\smallskip

Tanto esta funci\'on, como la siguiente, est\'an basadas en los resultados del director del proyecto\cite{corebody}.

\smallskip

    \textbf{Descripci\'on}

    A esta funci\'on se le pasa un conjunto de atributos Omega, junto con un conjunto de implicaciones Gamma. 
    Devolver\'a el conjunto de datos resultante de eliminar de Omega todos los atributos que se encuentren en los 
    consecuentes de las implicaciones que forman Gamma. 

    \[
        core(\Omega , \Gamma ) = \Omega ~ \backslash ~ ( \bigcup_{A \to B \in \Gamma} B )    
    \]
    
    Esta no es precisamente una funci\'on b\'asica, pero se ha incluido en este apartado, ya que se utilizar\'a 
    en el algoritmo de claves minimales realizado en el segundo tomo de este TFG.
    \\

    \bigskip


    \textbf{C\'odigo}

    \lstinputlisting{r_code/basicLibrary/core.R}
    \clearpage

    \textbf{Ejemplo}


    \begin{figure}[H]
        \centering
        \includegraphics{core}
        \caption{Ejemplo de core de un conjunto}
        \label{fig:core}
    \end{figure}

    En el ejemplo, tenemos como punto de partida un conjunto con cinco implicaciones y todos los elementos de ese conjunto en 
    un itemMatrix. Realizamos la operaci\'on core y se obtiene como resultado un itemMatrix con dos de los elementos de las implicaciones. 
    Tal y como se ha explicado anteriormente, este resultado se obtiene de restar de todos los atributos, los que est\'an en los consecuentes 
    de las implicaciones.
    \\

    \bigskip

%%% body %%% 
\textbf{ \large Body}

\smallskip

    \textbf{Descripci\'on}

    Al igual que en el punto anterior, esta funci\'on se utilizar\'a en el algoritmo para calcular claves minimales, aunque junto con 
    el anterior, se han incluido aqu\'i.

    Siendo Omega un conjunto de atributos, y Gamma un conjunto de implicaciones, se define la funci\'on body como la diferencia 
    de la uni\'on de los antecedentes de Gamma, menos el cierre del core de Omega y Gamma. 

    \[
        body(\Omega , \Gamma ) = ( \bigcup_{A \to B \in \Gamma} B ) ~ \backslash ~ core(\Omega , \Gamma )^+
    \]

    \textbf{C\'odigo}

    \lstinputlisting{r_code/basicLibrary/body.R}
    \bigskip

    \textbf{Ejemplo}


    \begin{figure}[H]
        \centering
        \includegraphics{body}
        \caption{Ejemplo de body de un conjunto}
        \label{fig:body}
    \end{figure}

    Para este ejemplo, se usa el mismo conjunto de implicaciones que en el anterior punto. En este caso se muestra el 
    resultado de restar de todos los elementos que se encuentran en los antecedentes de las implicaciones, 
    el resultado del cierre del core de Omega y Gamma.

    \newpage
    \thispagestyle{empty}
    \mbox{}
    \newpage